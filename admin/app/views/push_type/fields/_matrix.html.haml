.repeater-field.mat{ repeater: { field: true } }
  %table
    %thead
      %tr
        - field.fields.keys.each do |name|
          %th= name.to_s.humanize
        %th &nbsp;
    %tbody.rows
      - field.rows.each do |row|
        = f.fields_for "#{ field.name }[]", row do |r|
          %tr{ repeater: { row: true } }
            - row.fields.each do |name, sub_field|
              %td= render_field sub_field, r, id: nil
            %td.remove
              %a.alert{ ng: { click: 'removeRow()' } }= ficon(:x)

  .plus
    %a.button.success.tiny.radius{ ng: { click: 'addRow()' } }
      = ficon :plus, 'Add row'

  %script{:type => 'html/template', :class => 'template' }
    = f.fields_for "#{ field.name }[]", field.structure do |r|
      %tr{ repeater: { row: true } }
        - field.fields.each do |name, sub_field|
          %td= render_field sub_field, r, id: nil
        %td.remove
          %a.alert{ ng: { click: 'removeRow()' } }= ficon(:x)
